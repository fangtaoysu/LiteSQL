# LiteSQL

##  词法分析：将用户输入解析为 Tokens

> 词法分析的目标是将用户输入（SQL 语句）拆分成语法单元（Tokens），供 AST 使用

### 基于 DFA（确定性有限自动机）的词法分析器
> 适用场景：更复杂的 SQL 支持，性能要求较高。

利用 DFA 逐字符解析输入，设计一个状态机，基于当前状态和字符决定如何转移状态。

实现思路：

- 定义状态和转移规则。
- 用状态机逐字符处理输入。
- 根据状态产生 Tokens。

## 命令解析：构建出一套sql命令树

### 基于 AST (抽象语法树) 的sql命令树

实现思路：

- 解析阶段：将 SQL 命令解析成一个抽象语法树（AST）。每个节点表示 SQL 语句的一个逻辑成分（如操作类型、对象名称、参数等）。
- 执行阶段：基于 AST 的节点类型，调用相应的执行逻辑。这种方式允许复杂命令（例如子查询、联合查询）通过递归调用轻松处理。

## 执行 SQL 语句：实现真正的数据库操作
> 执行 SQL 的目标是将 SQL 转化为实际的数据库操作（如文件存储、表管理等）

### 内存与文件混合存储
> 适用场景：需要更高性能、更复杂 SQL 支持。

在内存中存储表和索引，操作完成后同步到文件。

实现方式：

- 使用哈希表或 B 树管理表和索引。
- 操作完成后异步保存到文件。
- 启动时从文件加载表结构。